import{a as D,b as N,c as z,d as ze,e as Je,f as Ue,g as Ge}from"./chunk-772M27O6.js";import"./chunk-2CPKEXRV.js";import{a as Ae,b as Le}from"./chunk-BOC2LXVG.js";import"./chunk-RQ2LQKI2.js";import{a as Qe,b as He}from"./chunk-PX3TOMGC.js";import"./chunk-42PJPEMD.js";import{a as ve}from"./chunk-ASLGZ7DJ.js";import{a as De}from"./chunk-MSAOOVCY.js";import{a as Ne}from"./chunk-DSEDLZDW.js";import{Aa as Be,Ba as qe,Ca as je,E as Se,J as be,L as Te,M as we,Ua as Re,a as pe,b as ue,ba as Me,d as me,e as de,f as _e,g as ge,h as fe,i as he,ja as Oe,ka as Pe,la as ke,ma as Ee,n as xe,q as Ce,qa as Ie,r as ye,ra as Fe,ya as $e,za as Ve}from"./chunk-VAEZNV34.js";import"./chunk-6XXA7HXI.js";import{i as le,k as se}from"./chunk-CMNWCZJM.js";import{$ as Z,$b as s,B as M,Cb as x,Ea as _,Fa as g,Gb as te,Hb as f,Kb as A,Mb as S,N as Y,O as K,Ob as k,Pb as E,Q as X,Qb as u,Rb as m,Sb as V,Tb as ne,Ub as ie,Wb as P,Zb as h,a as l,ad as ce,b as p,jc as L,kb as c,kc as d,l as v,lc as b,mc as y,o as W,pc as oe,qa as O,rc as re,ua as ee,uc as ae,vc as T,wc as I,xc as F}from"./chunk-Z3WUIYN5.js";var Q={items:[],totalCount:0,totalCountIsEstimate:!1,aggregations:{}},B=class{constructor(n,t,o){this.apollo=n,this.errorsService=t,this.currentRequest=new v(0),this.loadingSubject=new v(!1),this.loading$=this.loadingSubject.asObservable(),this.result=Q,this.resultSubject=new v(this.result),this.result$=this.resultSubject.asObservable(),this.items$=this.resultSubject.pipe(M(i=>i.items)),this.overallTotalCount$=this.resultSubject.pipe(M(i=>{let a=0,r=!1;for(let w of i.aggregations.contentType??[])a+=w.count,r=r||w.isEstimate;return{count:a,isEstimate:r}})),this.availableContentTypes$=this.resultSubject.pipe(Z((i,a)=>Array.from(new Set([...i,...(a.aggregations.contentType??[]).flatMap(r=>r.value?[r.value]:[])])),[])),this.contentTypeCounts$=this.resultSubject.pipe(M(i=>Object.fromEntries((i.aggregations.contentType??[]).map(a=>[a.value,{count:a.count,isEstimate:a.isEstimate}])))),o.subscribe(i=>{this.input=i.input,this.loadResult({input:p(l({},i.input),{cached:!0})})}),this.resultSubject.subscribe(i=>{this.result=i})}connect({}){return this.items$}disconnect(){this.resultSubject.complete()}refresh(){this.loadResult({input:p(l({},this.input),{cached:!1})})}loadResult(n){this.currentSubscription&&(this.currentSubscription.unsubscribe(),this.currentSubscription=void 0),this.loadingSubject.next(!0);let t=this.currentRequest.getValue()+1;this.currentRequest.next(t);let o=this.apollo.query({query:Se,variables:n,fetchPolicy:"no-cache"}).pipe(M(i=>i.data.torrentContent.search)).pipe(Y(i=>(this.errorsService.addError(`Error loading item results: ${i.message}`),W)));this.currentSubscription=o.subscribe(i=>{t===this.currentRequest.getValue()&&(this.loadingSubject.next(!1),this.resultSubject.next(i))})}};var We=e=>({input:{queryString:e.queryString,limit:e.limit,page:e.page,totalCount:!0,hasNextPage:!0,orderBy:[e.orderBy],facets:{contentType:{aggregate:!0,filter:e.contentType?[e.contentType==="null"?null:e.contentType]:void 0},genre:e.facets.genre.active?{aggregate:!0,filter:e.facets.genre.filter}:void 0,language:e.facets.language.active?{aggregate:e.facets.language.active,filter:e.facets.language.filter}:void 0,torrentFileType:e.facets.fileType.active?{aggregate:!0,filter:e.facets.fileType.filter}:void 0,torrentSource:e.facets.torrentSource.active?{aggregate:!0,filter:e.facets.torrentSource.filter}:void 0,torrentTag:e.facets.torrentTag.active?{aggregate:!0,filter:e.facets.torrentTag.filter}:void 0,videoResolution:e.facets.videoResolution.active?{aggregate:!0,filter:e.facets.videoResolution.filter}:void 0,videoSource:e.facets.videoSource.active?{aggregate:!0,filter:e.facets.videoSource.filter}:void 0}}}),C={active:!1},q=class{constructor(n){this.controlsSubject=new v(n),this.controls$=this.controlsSubject.asObservable(),this.paramsSubject=new v(We(n)),this.params$=this.paramsSubject.asObservable(),this.controls$.pipe(X(100)).subscribe(t=>{let o=this.paramsSubject.getValue(),i=We(t);JSON.stringify(o)!==JSON.stringify(i)&&this.paramsSubject.next(i)})}update(n){let t=this.controlsSubject.getValue(),o=n(t);JSON.stringify(t)!==JSON.stringify(o)&&this.controlsSubject.next(o)}selectContentType(n){this.update(t=>p(l({},t),{contentType:n,page:1,facets:p(l({},t.facets),{genre:H(n,Ye.contentTypes)?t.facets.genre:C,videoResolution:H(n,Ke.contentTypes)?t.facets.videoResolution:C,videoSource:H(n,Xe.contentTypes)?t.facets.videoSource:C})}))}activateFacet(n){this.update(t=>p(l({},t),{facets:n.patchInput(t.facets,p(l({},n.extractInput(t.facets)),{active:!0}))}))}deactivateFacet(n){this.update(t=>{let o=n.extractInput(t.facets);return p(l({},t),{page:o.filter?1:t.page,facets:n.patchInput(t.facets,p(l({},o),{active:!1,filter:void 0}))})})}activateFilter(n,t){this.update(o=>{let i=n.extractInput(o.facets);return p(l({},o),{page:1,facets:n.patchInput(o.facets,p(l({},i),{filter:Array.from(new Set([...i.filter??[],t])).sort()}))})})}deactivateFilter(n,t){this.update(o=>{let i=n.extractInput(o.facets),a=i.filter?.filter(r=>r!==t);return p(l({},o),{page:1,facets:n.patchInput(o.facets,p(l({},i),{filter:a?.length?a:void 0}))})})}setQueryString(n){n=n||void 0,this.update(t=>{let o=t.orderBy;return n?n!==t.queryString&&(o=U):o.field==="relevance"&&(o=$),p(l({},t),{queryString:n,orderBy:o,page:n===t.queryString?t.page:1})})}selectOrderBy(n){let t={field:n,descending:J.find(o=>o.field===n)?.descending??!1};this.update(o=>p(l({},o),{orderBy:t.field!=="relevance"||o.queryString?t:$,page:1}))}toggleOrderByDirection(){this.update(n=>p(l({},n),{orderBy:p(l({},n.orderBy),{descending:!n.orderBy.descending}),page:1}))}handlePageEvent(n){this.update(t=>p(l({},t),{limit:n.pageSize,page:n.page}))}},it={key:"torrent_source",icon:"mediation",allowNull:!1,extractInput:e=>e.torrentSource,patchInput:(e,n)=>p(l({},e),{torrentSource:n}),extractAggregations:e=>e.torrentSource??[],resolveLabel:e=>e.label},ot={key:"torrent_tag",icon:"sell",allowNull:!1,extractInput:e=>e.torrentTag,patchInput:(e,n)=>p(l({},e),{torrentTag:n}),extractAggregations:e=>e.torrentTag??[],resolveLabel:e=>e.value},rt={key:"file_type",icon:"file_present",allowNull:!1,extractInput:e=>e.fileType,patchInput:(e,n)=>p(l({},e),{fileType:n}),extractAggregations:e=>e.torrentFileType??[],resolveLabel:(e,n)=>n.translate(`file_types.${e.value}`)},at={key:"language",icon:"translate",allowNull:!1,extractInput:e=>e.language,patchInput:(e,n)=>p(l({},e),{language:n}),extractAggregations:e=>e.language??[],resolveLabel:(e,n)=>n.translate(`languages.${e.value}`)},Ye={key:"genre",icon:"theater_comedy",allowNull:!1,contentTypes:["movie","tv_show"],extractInput:e=>e.genre,patchInput:(e,n)=>p(l({},e),{genre:n}),extractAggregations:e=>e.genre??[],resolveLabel:e=>e.label},Ke={key:"video_resolution",icon:"aspect_ratio",allowNull:!0,contentTypes:["movie","tv_show","xxx"],extractInput:e=>e.videoResolution,patchInput:(e,n)=>p(l({},e),{videoResolution:n}),extractAggregations:e=>(e.videoResolution??[]).map(n=>p(l({},n),{value:n.value??null})),resolveLabel:e=>e.value?.slice(1)??"?"},Xe={key:"video_source",icon:"album",allowNull:!0,contentTypes:["movie","tv_show","xxx"],extractInput:e=>e.videoSource,patchInput:(e,n)=>p(l({},e),{videoSource:n}),extractAggregations:e=>(e.videoSource??[]).map(n=>p(l({},n),{value:n.value??null})),resolveLabel:e=>e.value??"?"},j=[it,ot,rt,at,Ye,Ke,Xe],J=[{field:"relevance",descending:!0},{field:"published_at",descending:!0},{field:"updated_at",descending:!0},{field:"size",descending:!0},{field:"files_count",descending:!0},{field:"seeders",descending:!0},{field:"leechers",descending:!0},{field:"name",descending:!1}],$={field:"published_at",descending:!0},U={field:"relevance",descending:!0},H=(e,n)=>!n||e&&n.includes(e);var Ze=(e,n)=>n.key,ct=(e,n)=>n.field,et=(e,n)=>n.value,lt=e=>({x:e}),st=(e,n,t,o)=>[e,n,t,o];function pt(e,n){if(e&1&&(u(0,"small"),d(1),T(2,"intEstimate"),m()),e&2){let t=n;c(),y(" ",F(2,1,t.count,t.isEstimate)," ")}}function ut(e,n){if(e&1&&(u(0,"small"),d(1),T(2,"intEstimate"),m()),e&2){let t=n;c(),b(F(2,1,t.count,t.isEstimate))}}function mt(e,n){e&1&&(u(0,"small"),d(1,"0"),m())}function dt(e,n){if(e&1){let t=P();u(0,"li",6),h("click",function(){_(t);let i=s().$implicit,a=s(2);return g(a.controller.selectContentType(i.key))}),u(1,"mat-icon"),d(2),m(),d(3),x(4,ut,3,4,"small"),T(5,"async"),x(6,mt,2,0,"small"),m()}if(e&2){let t,o=s().$implicit,i=s().$implicit,a=s();A(a.controls.contentType===o.key?"active":""),c(2),b(o.icon),c(),y(" ",i("content_types.plural."+o.key)," "),c(),S((t=(t=I(5,5,a.dataSource.contentTypeCounts$))==null?null:t[o.key])?4:6,t)}}function _t(e,n){if(e&1&&(x(0,dt,7,7,"li",24),T(1,"async")),e&2){let t,o=n.$implicit,i=s(2);S(o.key==="null"||(t=I(1,1,i.dataSource.availableContentTypes$))!=null&&t.includes(o.key)?0:-1)}}function gt(e,n){if(e&1){let t=P();u(0,"mat-checkbox",30),h("change",function(i){let a=_(t).$implicit,r=s(3).$implicit,w=s(2);return g(i.checked?w.controller.activateFilter(r,a.value):w.controller.deactivateFilter(r,a.value))}),d(1),u(2,"small"),d(3),T(4,"intEstimate"),m()()}if(e&2){let t=n.$implicit,o=s(3).$implicit;f("checked",o.filter==null?null:o.filter.includes(t.value)),c(),y(" ",t.label," "),c(2),b(F(4,3,t.count,t.isEstimate))}}function ft(e,n){if(e&1&&(u(0,"section",27),k(1,gt,5,6,"mat-checkbox",29,et),m()),e&2){let t=s(2).$implicit;c(),E(t.aggregations)}}function ht(e,n){if(e&1){let t=P();u(0,"mat-checkbox",32),h("change",function(){let i=_(t).$implicit,a=s(4).$implicit,r=s(2);return g(r.controller.activateFilter(a,i.value))}),d(1),u(2,"small"),d(3),T(4,"intEstimate"),m()()}if(e&2){let t=n.$implicit;c(),y(" ",t.label," "),c(2),b(F(4,2,t.count,t.isEstimate))}}function xt(e,n){if(e&1&&k(0,ht,5,5,"mat-checkbox",31,et),e&2){let t=s(3).$implicit;E(t.aggregations)}}function Ct(e,n){if(e&1&&d(0),e&2){let t=s(4).$implicit;y(" ",t("general.none")," ")}}function yt(e,n){if(e&1&&(u(0,"section",28),x(1,xt,2,0)(2,Ct,1,1),m()),e&2){let t=s(2).$implicit;c(),S(t.aggregations.length?1:2)}}function vt(e,n){if(e&1){let t=P();u(0,"mat-expansion-panel",26),h("opened",function(){_(t);let i=s().$implicit,a=s(2);return g(a.controller.activateFacet(i))})("closed",function(){_(t);let i=s().$implicit,a=s(2);return g(a.controller.deactivateFacet(i))}),u(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"mat-icon"),d(4),m(),d(5),m()(),x(6,ft,3,0,"section",27)(7,yt,3,1,"section",28),m()}if(e&2){let t=s().$implicit,o=s().$implicit;f("expanded",t.active),c(4),b(t.icon),c(),y(" ",o("facets."+t.key)," "),c(),S(t.filter!=null&&t.filter.length?6:7)}}function St(e,n){if(e&1&&x(0,vt,8,4,"mat-expansion-panel",25),e&2){let t=n.$implicit;S(t.relevant?0:-1)}}function bt(e,n){if(e&1){let t=P();u(0,"button",18),h("click",function(){_(t);let i=s(2);return i.queryString.reset(),g(i.controller.setQueryString(null))}),u(1,"mat-icon"),d(2,"close"),m()()}if(e&2){let t=s().$implicit;f("matTooltip",t("torrents.clear_search"))}}function Tt(e,n){if(e&1&&(u(0,"mat-option",33),d(1),m()),e&2){let t=s().$implicit,o=s().$implicit;f("value",t.field),c(),y(" ",o("torrents.ordering."+t.field)," ")}}function wt(e,n){if(e&1&&x(0,Tt,2,2,"mat-option",33),e&2){let t=n.$implicit,o=s(2);S(t.field!="relevance"||o.queryString.value?0:-1)}}function Mt(e,n){if(e&1){let t=P();ne(0),V(1,"app-document-title",2),u(2,"mat-drawer-container",3)(3,"mat-drawer",4,0)(5,"mat-expansion-panel",5)(6,"mat-expansion-panel-header")(7,"mat-panel-title")(8,"mat-icon"),d(9,"interests"),m(),d(10),m()(),u(11,"section")(12,"nav")(13,"ul")(14,"li",6),h("click",function(){_(t);let i=s();return g(i.controller.selectContentType(null))}),u(15,"mat-icon",7),d(16,"emergency"),m(),d(17),x(18,pt,3,4,"small"),T(19,"async"),m(),k(20,_t,2,3,null,null,Ze),m()()()(),k(22,St,1,1,null,null,Ze),T(24,"async"),m(),u(25,"mat-drawer-content")(26,"div",8)(27,"div",9)(28,"button",10),h("click",function(){_(t);let i=L(4);return g(i.toggle())}),u(29,"mat-icon",11),d(30),m()()(),u(31,"div",12)(32,"mat-form-field",13)(33,"input",14),h("keyup.enter",function(){_(t);let i=s();return g(i.controller.setQueryString(i.queryString.value))}),m(),x(34,bt,3,1,"button",15),m()(),u(35,"div",16)(36,"mat-form-field",13)(37,"mat-label"),d(38),m(),u(39,"mat-select",17),h("valueChange",function(i){_(t);let a=s();return g(a.controller.selectOrderBy(i))}),k(40,wt,1,1,null,null,ct),m()(),u(42,"button",18),h("click",function(){_(t);let i=s();return g(i.controller.toggleOrderByDirection())}),u(43,"mat-icon"),d(44),m()()(),u(45,"div",19)(46,"button",20),h("click",function(){_(t);let i=s();return g(i.dataSource.refresh())}),u(47,"mat-icon"),d(48,"sync"),m()()()(),V(49,"mat-divider"),u(50,"app-torrents-bulk-actions",21),h("updated",function(){_(t);let i=s();return g(i.dataSource.refresh())}),m(),V(51,"mat-divider"),u(52,"app-torrents-table",22),h("updated",function(){_(t);let i=s();return g(i.dataSource.refresh())}),m(),u(53,"app-paginator",23),h("paging",function(i){_(t);let a=s();return g(a.controller.handlePageEvent(i))}),m()()(),ie()}if(e&2){let t,o,i=n.$implicit,a=L(4),r=s();c(),f("parts",ae(36,st,r.controls.queryString,((t=r.controls.contentType)!==null&&t!==void 0?t:"null")==="null"?null:i("content_types.plural."+r.controls.contentType),r.controls.page>1?i("paginator.page_x",re(34,lt,r.controls.page)):null,i("routes.torrents"))),c(2),f("mode",r.breakpoints.sizeAtLeast("Medium")?"side":"over")("opened",r.breakpoints.sizeAtLeast("Medium")),te("role",r.breakpoints.sizeAtLeast("Medium")?"navigation":"dialog"),c(2),f("expanded",r.breakpoints.sizeAtLeast("Medium")),c(5),y(" ",i("facets.content_type")," "),c(4),A(r.controls.contentType===null?"active":""),c(3),y("",i("content_types.plural.all")," "),c(),S((o=I(19,30,r.dataSource.overallTotalCount$))?18:-1,o),c(2),E(r.contentTypes),c(2),E(I(24,32,r.facets$)),c(6),f("matTooltip",i("torrents.toggle_drawer")),c(2),b(a.opened?"arrow_circle_left":"arrow_circle_right"),c(3),f("placeholder",i("torrents.search"))("formControl",r.queryString),c(),S(r.queryString.value?34:-1),c(4),b(i("torrents.order_by")),c(),f("value",r.controls.orderBy.field),c(),E(r.orderByOptions),c(2),f("matTooltip",i("torrents.order_direction_toggle")),c(2),b(r.controls.orderBy.descending?"arrow_downward":"arrow_upward"),c(2),f("matTooltip",i("torrents.refresh")),c(4),f("selectedItems$",r.selectedItems$),c(2),f("dataSource",r.dataSource)("displayedColumns",r.breakpoints.sizeAtLeast("Medium")?r.allColumns:r.compactColumns)("selection",r.selection),c(),f("page",r.controls.page)("pageSize",r.controls.limit)("pageLength",r.dataSource.result.items.length)("totalLength",r.dataSource.result.totalCount)("totalIsEstimate",r.dataSource.result.totalCountIsEstimate)("hasNextPage",r.dataSource.result.hasNextPage)}}var bn=(()=>{class e{constructor(){this.route=O(le),this.router=O(se),this.apollo=O(he),this.errorsService=O(ve),this.transloco=O(pe),this.breakpoints=O(De),this.contentTypes=He,this.orderByOptions=J,this.allColumns=Ue,this.compactColumns=Ge,this.queryString=new _e(""),this.result=Q,this.selection=new fe(!0,[]),this.selectedItemsSubject=new v([]),this.selectedItems$=this.selectedItemsSubject.asObservable(),this.subscriptions=Array(),this.controls=Ot,this.controller=new q(this.controls),this.dataSource=new B(this.apollo,this.errorsService,this.controller.params$),this.subscriptions.push(this.controller.controls$.subscribe(t=>{this.controls=t})),this.facets$=this.controller.controls$.pipe(K(this.dataSource.result$),M(([t,o])=>j.map(i=>p(l(l({},i),i.extractInput(t.facets)),{relevant:!i.contentTypes||!!(t.contentType&&t.contentType!=="null"&&i.contentTypes.includes(t.contentType)),aggregations:i.extractAggregations(o.aggregations).map(a=>p(l({},a),{label:i.resolveLabel(a,this.transloco)}))})))),this.subscriptions.push(this.dataSource.result$.subscribe(t=>{this.result=t;let o=new Set(t.items.map(({infoHash:i})=>i));this.selection.deselect(...this.selection.selected.filter(i=>!o.has(i)))}))}ngOnInit(){this.subscriptions.push(this.route.queryParams.subscribe(t=>{let o=N(t,"query");this.queryString.setValue(o??null),this.controller.update(i=>{let a=D(t,"facets"),r=i.orderBy;return o?o!==i.queryString&&(r=U):r.field==="relevance"&&(r=$),p(l({},i),{queryString:o,orderBy:r,contentType:Pt(t,"content_type"),limit:z(t,"limit")??i.limit,page:z(t,"page")??i.page,facets:j.reduce((w,R)=>{let G=a?.includes(R.key)??!1,nt=G?D(t,R.key):void 0;return R.patchInput(w,{active:G,filter:nt})},i.facets)})})}),this.controller.controls$.subscribe(t=>{let o=t.page,i=t.limit;o===1&&(o=void 0),i===tt&&(i=void 0),this.router.navigate([],{relativeTo:this.route,queryParams:l({query:t.queryString?encodeURIComponent(t.queryString):void 0,page:o,limit:i,content_type:t.contentType},kt(t.facets)),queryParamsHandling:"replace"})}),this.selection.changed.subscribe(t=>{let o=new Set(t.source.selected);this.selectedItemsSubject.next(this.result.items.filter(i=>o.has(i.infoHash)))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=new Array}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=ee({type:e,selectors:[["app-torrents-search"]],standalone:!0,features:[oe],decls:1,vars:0,consts:[["drawer",""],[4,"transloco"],[3,"parts"],[1,"drawer-container"],[1,"drawer",3,"mode","opened"],[1,"panel-content-type",3,"expanded"],[3,"click"],["fontSet","material-icons"],[1,"search-form"],[1,"form-field-container","button-container","button-container-toggle-drawer"],["type","button","mat-icon-button","",1,"button-toggle-drawer",3,"click","matTooltip"],["aria-label","Side nav toggle icon","fontSet","material-icons"],[1,"form-field-container","form-field-container-search-query"],["subscriptSizing","dynamic"],["matInput","","autocapitalize","none",3,"keyup.enter","placeholder","formControl"],["mat-icon-button","",3,"matTooltip"],[1,"form-field-container","form-field-container-order-by"],[3,"valueChange","value"],["mat-icon-button","",3,"click","matTooltip"],[1,"form-field-container","button-container","button-container-refresh"],["mat-mini-fab","","color","primary",3,"click","matTooltip"],[3,"updated","selectedItems$"],[3,"updated","dataSource","displayedColumns","selection"],[3,"paging","page","pageSize","pageLength","totalLength","totalIsEstimate","hasNextPage"],[3,"class"],[3,"expanded"],[3,"opened","closed","expanded"],[1,"filtered"],[1,"unfiltered"],[3,"checked"],[3,"change","checked"],["checked","true"],["checked","true",3,"change"],[3,"value"]],template:function(o,i){o&1&&x(0,Mt,54,41,"ng-container",1)},dependencies:[Re,xe,ye,Ce,Me,Oe,Pe,ke,Ee,we,Te,Ie,Fe,Ve,qe,je,Be,$e,me,de,ge,ue,ce,Ne,be,Le,ze,Je,Ae],styles:[".mat-expansion-panel[_ngcontent-%COMP%]{margin-top:14px;margin-right:14px}.mat-expansion-panel[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-left:-10px}.mat-expansion-panel.panel-content-type[_ngcontent-%COMP%]{margin-top:20px}.mat-expansion-panel.panel-content-type[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{margin-left:0}.mat-expansion-panel[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding-left:0;margin:0}.mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;line-height:40px;padding-left:40px}.mat-expansion-panel[_ngcontent-%COMP%]   mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;left:0;top:8px}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{top:6px}.mat-expansion-panel[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{float:right;font-size:.8rem}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{display:block}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]     label{min-width:220px}.mat-expansion-panel[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-left:10px;position:absolute;right:0}.search-form[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:10px;position:relative;clear:both;display:flex;flex-wrap:wrap}.search-form[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;position:relative;margin-left:20px;padding-bottom:20px}.search-form[_ngcontent-%COMP%]   .form-field-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{top:8px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-order-by[_ngcontent-%COMP%]{padding-right:40px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-order-by[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]{width:300px}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:0}.search-form[_ngcontent-%COMP%]   .form-field-container.form-field-container-search-query[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{padding-right:50px}.search-form[_ngcontent-%COMP%]   .button-container-toggle-direction[_ngcontent-%COMP%]{margin-left:4px}app-paginator[_ngcontent-%COMP%]{float:right;padding-top:14px;padding-bottom:20px}"],changeDetection:0})}}return e})(),tt=20,Ot={page:1,limit:tt,contentType:null,orderBy:$,facets:{genre:C,language:C,fileType:C,torrentSource:C,torrentTag:C,videoResolution:C,videoSource:C}},Pt=(e,n)=>{let t=N(e,n);return t&&t in Qe?t:null},kt=e=>{let[n,t]=j.reduce((o,i)=>{let a=i.extractInput(e);return a.active?[[...o[0],i.key],a.filter?p(l({},o[1]),{[i.key]:a.filter}):o[1]]:o},[[],{}]);return l({facets:n.length?n.join(","):void 0},Object.fromEntries(Object.entries(t).map(([o,i])=>[o,encodeURIComponent(i.join(","))])))};export{bn as TorrentsSearchComponent};
